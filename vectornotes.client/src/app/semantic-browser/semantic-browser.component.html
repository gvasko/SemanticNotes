<div class="semantic-browser">
  <div class="button-bar">
    <button mat-button [disabled]="!currentNote" (click)="editButtonClicked()">Edit</button>
    <button mat-button [disabled]="!currentNote" (click)="deleteButtonClicked()">Delete</button>
    <button mat-button [disabled]="!currentNote" (click)="createNewTagClicked()">Create Tag</button>
  </div>
  <div class="content">
    <div *ngIf="currentNote" class="current-note">
      <lantor-tag-list [tags]="currentNote.tags ?? []" (removeTag)="deleteTag($event)"></lantor-tag-list>
      <p class="collection-name">Parent collection: {{currentCollectionName}}</p>
      <h1>{{currentNote.title}}</h1>
      <p>{{currentNote.content}}</p>
    </div>
    <div *ngIf="!currentNote" class="current-note">
      <p>Note not found...</p>
    </div>
    <div *ngIf="currentNote" class="similar-note-list">
      <lantor-collection-selector></lantor-collection-selector>
      <div>
        <p>Tags</p>
        <mat-nav-list *ngIf="similarTags.length > 0">
          <mat-list-item *ngFor="let tag of similarTags">{{ tag }}</mat-list-item>
        </mat-nav-list>
        <span *ngIf="similarTags.length === 0">Not found</span>
      </div>
      <div>
        <p>Related Notes</p>
        <mat-nav-list>
          <mat-list-item *ngFor="let note of similarNotes" (click)="similarNoteClicked(note.id)">[{{note.similarityValue.toFixed(2)}}] {{ note.title }}</mat-list-item>
        </mat-nav-list>
      </div>
    </div>
  </div>
</div>
